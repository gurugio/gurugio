'''64비트-SMP 커널 만들기'''


----

 * 작성자: 김기오 
 
 * 문서 소개
64비트/SMP 기능을 가진 x86 Dual-core 기반 커널을 만들어보는 강좌입니다.

----

 * 작성 일지

2009.2.9 김기오: 처음 문서 생성, 1장 작성
2009.2.11 김기오: 2장 작성

----

[[TableOfContents]] 

----
'''인사글'''


CaOS는 컴퓨터 시스템을 이해하고 좋은 소프트웨어를 만드는 좋은 개발자가 되고 싶다는 생각에서 시작되었습니다. 컴퓨터 시스템을 이해하기 위해 공부를 하다보니 커널을 이해하면 큰 도움이 되겠다는 판단을 했고 리눅스 커널 관련 자료들을 공부했습니다. 하지만 역시 방대한 커널을 이해하는데 많은 어려움이 있었습니다. 특히 책만 보면 잠이 오는 제가 많은 책과 문서들을 모아놓기만 하고 쉽게 소화하지 못해서 답답했었습니다. 그러던 중에 이왕이면 공부하는 내용을 직접 실습하면서 몸으로도 익혀보고, 뭔가 만들면 더 재밌게 열정있게 공부할 수 있지 않을까 생각이 들어서 CaOS 프로젝트를 시작했습니다. 

CaOS-64bit를 만들면서 목표로했던 기능이 64bit longmode, SMP 동작, 저전력 관리 였습니다. 지금은 2개의 코어가 64비트로 부팅된 단계까지 왔습니다. 여기까지가 하드웨어에 밀접한 부분이고 이후부터는 커널 디자인이나 OS 원리에 관련된 부분이 될것 같아서 한번 뒤돌아보면서 정리할 필요성을 느꼈습니다. 그래서 이 문서를 작성하기 시작했습니다.

사실 커널을 만들어보는 책이나 강좌가 없지도 않고, 그렇다고 제가 만든 강좌가 뭔가 우월한 내용이 있을것 같지도 않아서 굳이 강좌라고 따로 써야 하나 고민을 했습니다. 하지만 그동안 마음속으로 어셈러브를 운영하면서 이 3가지는 꼭 지켜나가자고 결심한게 있어서 강좌를 쓰게 되었습니다.

1. 내가 공부한 내용은 자세히 남겨서 나 스스로 필요할 때 빨리 복습할 수 있도록 하자
2. 좋은 문서, 고급 기술 문서를 만들 수는 없어도 기술 문서의 양/종류를 늘리는데 참여하자
3. 이왕이면 다른 관심있는 사람들도 볼 수 있도록 공개하자

각 장의 제목은 마치 제가 현대 OS의 모든 기능을 구현한 것처럼 지었습니다만 운영체제가 가져야 할 가장 필수적인 기능 중에서 제가 구현해볼 수 있는 부분까지 만들어보고 있습니다. 많은 한계가 있을 것이고 구현자체가 엉성할 것입니다. 최근들어 시중에 좋은 리눅스 커널 책들과 운영체제 만들기 관련 책들이 출시되고 있습니다. 그런 자료들을 보시면서 가끔 들여다보실 수 있는 정도의 문서가 되면 좋겠습니다.


= 개발 환경 =


[wiki:gurugio/make_64bit_smp_os_chap1 1장 개발 환경]


= 부트로더 =


[wiki:gurugio/make_64bit_smp_os_chap2 2장 부트로더]


= 롱모드 진입 =


[wiki:gurugio/make_64bit_smp_os_chap3 3장 롱모드 진입]
= C 코드 시작과 스크린 출력 =

[wiki:gurugio/make_64bit_smp_os_chap4 스크린 출력]


= 부팅 단계용 임시 메모리 할당 =

[wiki:gurugio/make_64bit_smp_os_chap5 부팅 단계용 임시 메모리 할당 기능 구현]


=  디스크립터 테이블과 인터럽트 처리 =

[wiki:gurugio/make_64bit_smp_os_chap6  디스크립터 테이블과 인터럽트 처리]

= 페이지 관리 =

[wiki:gurugio/make_64bit_smp_os_chap7  페이지 관리]

= 동적 메모리 관리 =


[wiki:gurugio/make_64bit_smp_os_chap8 동적 메모리 관리]

= SMP 초기화 =

[wiki:gurugio/make_64bit_smp_os_chap9 SMP 초기화]

= 인터럽트 사용 =

[wiki:gurugio/make_64bit_smp_os_chap10 인터럽트 사용]

= AP 활성화 =

[wiki:gurugio/make_64bit_smp_os_chap11 AP 활성화]

= 커널 동기화 =

[wiki:gurugio/make_64bit_smp_os_chap12 커널 동기화]

[wiki:gurugio/barrier_test 최적화 장벽의 이해를 위한 실험]
= 참고 자료 =
